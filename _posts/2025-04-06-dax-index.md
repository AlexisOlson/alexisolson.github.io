---
layout: default
title: "DAX Index without CONCATENATEX"
date: 2025-04-06
categories: dax
---

I was recently reviewing a chapter of Greg Deckler's DAX For Humans book and came across [The Mythical DAX Index](https://community.fabric.microsoft.com/t5/Quick-Measures-Gallery/The-Mythical-DAX-Index/td-p/1093214) again. This method uses CONCATENATEX to convert a column into a text PATH that is then reassembled by taking the Nth PATHITEM for the Nth index value. It's clever but has some drawbacks, so I wondered if I could find another way. This is my attempt.

If a table has no duplicated rows, then this is not a difficult problem. You can use ROWNUMBER, which supports ordering by multiple columns.


DAX Index = 
VAR __SourceTable = 'Table With Duplicates'
VAR __Group =
    GROUPBY (
        __SourceTable, [Product],
        "Count", SUMX ( CURRENTGROUP(), 1 )
    )
VAR __Expand =
    GENERATE (
        __Group,
        GENERATESERIES ( 1, [Count] )
    )
VAR __Result =
    SELECTCOLUMNS (
        __Expand, [Product],
        "Index", ROWNUMBER ( __Expand ) + [Value] - 1
    )
RETURN
    __Result